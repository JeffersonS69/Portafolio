---
import j from "@/assets/J.png";
import "@/styles/navbar.css";
---

<div class="burger-menu" id="menuToggle">
    <svg
        width="30px"
        height="30px"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        stroke="#ffffff"
        ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
                d="M4 18L20 18"
                stroke="#ffffff"
                stroke-width="2"
                stroke-linecap="round"></path>
            <path
                d="M4 12L20 12"
                stroke="#ffffff"
                stroke-width="2"
                stroke-linecap="round"></path>
            <path
                d="M4 6L20 6"
                stroke="#ffffff"
                stroke-width="2"
                stroke-linecap="round"></path>
        </g></svg
    >
</div>
<nav id="navLinks">
    <div class="img-menu">
        <img class="logo-j" src=`${j.src}` height="60px" width="70px" />
        <a class="img-left" id="exitMenu">
            <svg
                fill="#ffffff"
                height="18px"
                width="18px"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 460.775 460.775"
                xml:space="preserve"
                stroke="#ffffff"
                ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                    id="SVGRepo_tracerCarrier"
                    stroke-linecap="round"
                    stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                    <path
                        d="M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55 c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55 c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505 c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55 l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719 c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z"
                    ></path>
                </g></svg
            >
        </a>
    </div>
    <div class="language">
        <a href="#" class="lang">
            <h1 id="max-screen">ES</h1>
            <h1 id="min-screen">ESPAÑOL</h1>
        </a>
        <a href="#">
            <h1 id="max-screen">IN</h1>
            <h1 id="min-screen">INGLÉS</h1>
        </a>
    </div>
    <div class="menu">
        <a href="#home" id="icon-home">
            <div class="min-screen-menu">
                <svg
                    width="24px"
                    height="24px"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                        id="SVGRepo_tracerCarrier"
                        stroke-linecap="round"
                        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                        <path
                            d="M19 9.77806V16.2C19 17.8801 19 18.7202 18.673 19.3619C18.3854 19.9264 17.9265 20.3854 17.362 20.673C17.2111 20.7499 17.0492 20.8087 16.868 20.8537M5 9.7774V16.2C5 17.8801 5 18.7202 5.32698 19.3619C5.6146 19.9264 6.07354 20.3854 6.63803 20.673C6.78894 20.7499 6.95082 20.8087 7.13202 20.8537M21 12L15.5668 5.96393C14.3311 4.59116 13.7133 3.90478 12.9856 3.65138C12.3466 3.42882 11.651 3.42887 11.0119 3.65153C10.2843 3.90503 9.66661 4.59151 8.43114 5.96446L3 12M7.13202 20.8537C7.65017 18.6447 9.63301 17 12 17C14.367 17 16.3498 18.6447 16.868 20.8537M7.13202 20.8537C7.72133 21 8.51495 21 9.8 21H14.2C15.485 21 16.2787 21 16.868 20.8537M14 12C14 13.1045 13.1046 14 12 14C10.8954 14 10 13.1045 10 12C10 10.8954 10.8954 9.99996 12 9.99996C13.1046 9.99996 14 10.8954 14 12Z"
                            stroke="#ffffff"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </g></svg
                >
                <span class="tooltip">Inicio</span>
                <h1>Inicio</h1>
            </div>
        </a>
        <a href="#about" class="icon" id="icon-about">
            <div class="min-screen-menu">
                <svg
                    width="24px"
                    height="24px"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                        id="SVGRepo_tracerCarrier"
                        stroke-linecap="round"
                        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                        <path
                            d="M15 15.5C14.7164 14.3589 13.481 13.5 12 13.5C10.519 13.5 9.28364 14.3589 9 15.5M12 9.5H12.01M13 9.5C13 10.0523 12.5523 10.5 12 10.5C11.4477 10.5 11 10.0523 11 9.5C11 8.94772 11.4477 8.5 12 8.5C12.5523 8.5 13 8.94772 13 9.5ZM7 21H17C18.1046 21 19 20.1046 19 19V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21Z"
                            stroke="#ffffff"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </g></svg
                >
                <span class="tooltip">Sobre de mi</span>
                <h1>Sobre de mi</h1>
            </div>
        </a>
        <a href="#works" class="icon" id="icon-works">
            <div class="min-screen-menu">
                <svg
                    version="1.1"
                    id="Uploaded to svgrepo.com"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    width="24px"
                    height="24px"
                    viewBox="0 0 32 32"
                    xml:space="preserve"
                    fill="#000000"
                    ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                        id="SVGRepo_tracerCarrier"
                        stroke-linecap="round"
                        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                        <style type="text/css">
                            .bentblocks_een {
                                fill: #ffffff;
                            }
                        </style>
                        <path
                            class="bentblocks_een"
                            d="M26,8h-5V6c0-1.1-0.9-2-2-2h-6c-1.1,0-2,0.9-2,2v2H6c-1.1,0-2,0.9-2,2v16c0,1.1,0.9,2,2,2h20 c1.1,0,2-0.9,2-2V10C28,8.9,27.1,8,26,8z M13,6h6v2h-6V6z M17,10v6h-2v-6H17z M26,26H6v-3h20V26z M26,21H6V10h7v6c0,1.1,0.9,2,2,2h2 c1.1,0,2-0.9,2-2v-6h7V21z"
                        ></path>
                    </g></svg
                >
                <span class="tooltip">Proyectos</span>
                <h1>Proyectos</h1>
            </div>
        </a>
        <a href="#skills" class="icon" id="icon-skills">
            <div class="min-screen-menu">
                <svg
                    width="24px"
                    height="24px"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                        id="SVGRepo_tracerCarrier"
                        stroke-linecap="round"
                        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                        <path
                            d="M9 8L5 11.6923L9 16M15 8L19 11.6923L15 16"
                            stroke="#ffffff"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </g></svg
                >
                <span class="tooltip">Habilidades</span>
                <h1>Habilidades</h1>
            </div>
        </a>
        <a href="#contact" class="icon" id="icon-contact">
            <div class="min-screen-menu">
                <svg
                    width="24px"
                    height="24px"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
                        id="SVGRepo_tracerCarrier"
                        stroke-linecap="round"
                        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                        <path
                            d="M4 18L9 12M20 18L15 12M3 8L10.225 12.8166C10.8665 13.2443 11.1872 13.4582 11.5339 13.5412C11.8403 13.6147 12.1597 13.6147 12.4661 13.5412C12.8128 13.4582 13.1335 13.2443 13.775 12.8166L21 8M6.2 19H17.8C18.9201 19 19.4802 19 19.908 18.782C20.2843 18.5903 20.5903 18.2843 20.782 17.908C21 17.4802 21 16.9201 21 15.8V8.2C21 7.0799 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V15.8C3 16.9201 3 17.4802 3.21799 17.908C3.40973 18.2843 3.71569 18.5903 4.09202 18.782C4.51984 19 5.07989 19 6.2 19Z"
                            stroke="#ffffff"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </g></svg
                >
                <span class="tooltip">Contactame</span>
                <h1>Contactame</h1>
            </div>
        </a>
    </div>
    <div class="social">
        <div></div>
        <a
            href="https://github.com/JeffersonS69"
            target="_blank"
            class="btn-social"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#ffffff"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"
                ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                    d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
                ></path></svg
            >
            <h1>GitHub</h1>
        </a>
        <a
            href="https://www.linkedin.com/in/jefferson-garcia-ibarra-558822244/"
            target="_blank"
            class="btn-social"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#0e76a8"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"
                ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                    d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"
                ></path><path d="M8 11l0 5"></path><path d="M8 8l0 .01"
                ></path><path d="M12 16l0 -5"></path><path
                    d="M16 16v-3a2 2 0 0 0 -4 0"></path></svg
            >
            <h1>LinkedIn</h1>
        </a>
        <a
            href="https://gitlab.com/JeffryS69"
            target="_blank"
            class="btn-social"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#fc6d26"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-brand-gitlab"
                ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
                    d="M21 14l-9 7l-9 -7l3 -11l3 7h6l3 -7z"></path></svg
            >
            <h1>GitLab</h1>
        </a>
    </div>
</nav>

<script>
    const menuToggle: HTMLElement = document.querySelector(
        "#menuToggle",
    ) as HTMLElement;
    const navLinks: HTMLElement = document.querySelector(
        "#navLinks",
    ) as HTMLElement;
    const exitMenu: HTMLElement = document.querySelector(
        "#exitMenu",
    ) as HTMLElement;
    const articles: NodeListOf<HTMLElement> = document.querySelectorAll(
        "article",
    ) as NodeListOf<HTMLElement>;

    window.addEventListener("resize", () => {
        const screenWidth = window.innerWidth;
        if (screenWidth > 512) {
            navLinks.classList.remove("visible");
            menuToggle.classList.remove("hidden");
        }
    });

    menuToggle.addEventListener("click", () => {
        navLinks.classList.add("visible");
        menuToggle.classList.add("hidden");
    });

    exitMenu.addEventListener("click", () => {
        navLinks.classList.remove("visible");
        menuToggle.classList.remove("hidden");
    });

    function removeActiveClass() {
        document.querySelectorAll("nav a").forEach((item) => {
            item.classList.remove("active");
        });
    }

    function activeIcon() {
        articles.forEach((article) => {
            const articleTop = article.offsetTop;
            const articleHeight = article.clientHeight;
            const icon = document.querySelector(`nav a[href="#${article.id}"]`);
            
            icon?.addEventListener("click", () => {
                navLinks.classList.remove("visible");
                menuToggle.classList.remove("hidden");
            });

            if (window.scrollY >= articleTop - articleHeight / 2) {
                removeActiveClass();
                icon?.classList.add("active");
            }
        });
    }

    window.addEventListener("load", () => {
        activeIcon();
    });

    window.addEventListener("scroll", () => {
        activeIcon();
    });
</script>
